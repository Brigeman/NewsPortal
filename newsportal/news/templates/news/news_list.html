{% extends 'newsportal/default.html' %}
{% load news_filters %}


{% block content %}
  <h2>Список новостей</h2>
  <p>Всего новостей: {{ news|length }}</p>

  <ul>
    {% for article in news %}
      <li>
        <h3>{{ article.title }}</h3>
        <p>{{ article.created_at|date:"d.m.Y" }}</p>
        <p>{{ article.content|truncatewords:20 }}</p>
        <a href="{% url 'news_detail' article.id %}">Подробнее</a>
      </li>
    {% endfor %}
  </ul>

  {# Применение фильтра censor #}
  {% for post in news %}
    <h2>{{ post.title|censor }}</h2>
    <p>{{ post.content|censor }}</p>
  {% endfor %}

{% endblock %}
